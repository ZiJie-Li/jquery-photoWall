!function(a,b){var c=function(){function c(){b.el.hover(function(){b.hoverStop()},function(){b.play()})}function d(a,b,c,d){var e=0,f=parseInt(d.css("padding-left").replace("px",""))+parseInt(d.css("padding-right").replace("px","")),g=parseInt(d.css("margin-left").replace("px",""))+parseInt(d.css("margin-right").replace("px","")),h=2*parseInt(d.css("border-width").replace("px",""));return isNaN(f)&&(f=0),isNaN(g)&&(g=0),isNaN(h)&&(h=parseInt(d.css("border-left-width").replace("px",""))+parseInt(d.css("border-right-width").replace("px","")),isNaN(h)&&(h=0)),b>c?(a-=c*c,e=a/c-(f+h+g)):(a-=b*b,e=a/b-(f+h+g)),e}function e(a){for(var b=new Array,c=0;c<a.length;c++){var d=parseInt(Math.random()*a.length);b[c]=a[d]}return b}function f(a){for(var b=0;b<a.length;b++){var c=parseInt(Math.random()*b),d=a[b];a[b]=a[c],a[c]=d}return a}var b=this;b.options={imgWidth:0,imgHeight:0,oneLineMaxLength:3,showMax:6,init:1e3,effect:"zoomInUp",speed:3e3,duration:1e3,imgSort:"single",changeSytle:"loop",loopSpeed:10,changeEffect:"flipInY",hoverStop:!0,autoplay:!0,fluid:!0},b.init=function(e,f){b.options=a.extend(b.options,f),b.el=e,b.el.addClass("photo-wall"),b.photoWallWidth=b.el.width(),b.imgArray=new Array,b.ul=a(".photo-wall ul"),b.li=a(".photo-wall li"),b.liCount=a(".photo-wall li").length,b.imgWidth=b.options.imgWidth,b.imgHeight=b.options.imgHeight;var g=b.options;return g.showMax="all"==g.showMax?b.liCount:g.showMax,b.imgWidth=d(b.photoWallWidth,b.liCount,g.oneLineMaxLength,b.li),b.li.css({"-webkit-animation-duration":g.duration/1e3+"s","animation-duration":g.duration/1e3+"s","-webkit-animation-delay":g.init/1e3+"s","animation-delay":g.init/1e3+"s"}),b.li.each(function(c){b.imgArray[c]=a(this).find("img").attr("src");var d=parseInt(Math.random()*c),e=b.imgArray[c];b.imgArray[c]=b.imgArray[d],b.imgArray[d]=e,a(this).addClass("animated").addClass(g.effect),a(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass(g.effect)}),a(this).width(b.imgWidth),0!=b.imgHeight&&a(this).height(b.imgHeight),"auto"==b.imgHeight&&a(this).height(b.imgWidth)}),b.li.each(function(c){a(this).find("img").attr("src",b.imgArray[c]),c>g.showMax-1&&a(this).remove()}),b.li=a(".photo-wall li"),b.liCount=b.li.length,g.autoplay&&b.play(),g.hoverStop&&c(),g.fluid&&a(window).resize(function(){b.hoverStop(),b.photoWallWidth=b.el.width(),b.imgWidth=d(b.photoWallWidth,b.liCount,g.oneLineMaxLength,b.li),b.li.css("width",b.imgWidth+"px"),0!=b.imgHeight&&b.li.height(b.imgHeight),"auto"==b.imgHeight&&b.li.css("height",b.imgWidth+"px"),b.play()}).resize(),b},b.play=function(){b.mySet=setInterval(function(){if("single"==b.options.imgSort)var c=f(b.imgArray);else if("random"==b.options.imgSort)var c=e(b.imgArray);b.li.each(function(d){if(a(this).find("img").attr("src",c[d]),"random"==b.options.changeSytle){var e=b.options.duration/1e3-Math.random()*(b.options.speed/1e3);e=0>e?0:e}if("loop"==b.options.changeSytle){var e=b.options.speed/1e3/(b.liCount+1);e=d*e/b.options.loopSpeed}a(this).css({"-webkit-animation-delay":e+"s","animation-delay":e+"s"}),a(this).addClass(b.options.changeEffect),a(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass(b.options.changeEffect)})})},0|b.options.speed)},b.rePlay=function(){b.play(),b.options.hoverStop&&c()},b.hoverStop=function(){return b.mySet=clearInterval(b.mySet),b},b.stop=function(){return b.mySet=clearInterval(b.mySet),b.el.unbind("mouseenter mouseleave"),b},b.refresh=function(){if(b.hoverStop(),"single"==b.options.imgSort)var c=f(b.imgArray);else if("random"==b.options.imgSort)var c=e(b.imgArray);b.li.each(function(d){if(a(this).find("img").attr("src",c[d]),"random"==b.options.changeSytle){var e=b.options.duration/1e3-Math.random()*(b.options.speed/1e3);e=0>e?0:e}if("loop"==b.options.changeSytle){var e=b.options.speed/1e3/(b.liCount+1);e=d*e/b.options.loopSpeed}a(this).css({"-webkit-animation-delay":e+"s","animation-delay":e+"s"}),a(this).addClass(b.options.changeEffect),a(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass(b.options.changeEffect)})}),b.play()},b.reset=function(c){b.options=a.extend(b.options,c);var e=b.options;return e.showMax="all"==e.showMax?b.liCount:e.showMax,b.li.length<e.showMax&&(b.ul.append('<li><img src="" border="0" /></li>'),b.li=a(".photo-wall li"),b.liCount=b.li.length,b.imgWidth=d(b.photoWallWidth,b.liCount,e.oneLineMaxLength,b.li)),b.li.each(function(c){a(this).find("img").attr("src",b.imgArray[c]),b.li.length>e.showMax?c>e.showMax-1&&a(this).hide():a(this).show()}),b}};a.fn.photoWall=function(b){var d=this.length;return this.each(function(e){var f=a(this),g="photoWall"+(d>1?"-"+ ++e:""),h=(new c).init(f,b);f.data(g,h).data("key",g)})},c.version="2.0.0"}(jQuery,!1);